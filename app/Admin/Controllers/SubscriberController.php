<?php

namespace App\Admin\Controllers;

use App\Admin\Repositories\Subscriber;
use App\Models\AdminUser;
use Dcat\Admin\Form;
use Dcat\Admin\Grid;
use Dcat\Admin\Show;
use Dcat\Admin\Http\Controllers\AdminController;

class SubscriberController extends AdminController
{
    /**
     * Make a grid builder.
     *
     * @return Grid
     */
    protected function grid()
    {
        return Grid::make(new Subscriber(), function (Grid $grid) {
            $grid->column('id')->sortable();
            $grid->column('admin_user_id')->display(function($val) {
                return AdminUser::find($val)->name;
            });
            $grid->column('remark');
            $grid->column('created_at');
        
            $grid->disableViewButton();
            $grid->filter(function (Grid\Filter $filter) {
                $filter->like('remark');
        
            });
            $grid->header(function ($collection) use ($grid) {
                return '添加订阅用户之前，请先让用户扫描此二维码进行绑定
                <img width=50 src="data:image/png;base64,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">';
                
            });
        });
    }

    /**
     * Make a form builder.
     *
     * @return Form
     */
    protected function form()
    {
        return Form::make(new Subscriber(), function (Form $form) {
            $form->display('id');
            $form->select('admin_user_id')->options(AdminUser::all()->pluck('name', 'id'));
            $form->text('remark');
            
        });
    }
}
